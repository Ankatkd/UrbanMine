{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ankao\\\\OneDrive\\\\Desktop\\\\nilesh\\\\E-waste\\\\frontend\\\\src\\\\pages\\\\MapsLeaflet.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MapsLeaflet = () => {\n  _s();\n  const mapRef = useRef(null);\n  const [places, setPlaces] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [location, setLocation] = useState(null);\n  useEffect(() => {\n    const loadMap = () => {\n      navigator.geolocation.getCurrentPosition(pos => {\n        const {\n          latitude,\n          longitude\n        } = pos.coords;\n        setLocation({\n          lat: latitude,\n          lng: longitude\n        });\n        const map = new window.google.maps.Map(mapRef.current, {\n          center: {\n            lat: latitude,\n            lng: longitude\n          },\n          zoom: 14\n        });\n\n        // User location marker\n        new window.google.maps.Marker({\n          position: {\n            lat: latitude,\n            lng: longitude\n          },\n          map,\n          title: 'Your Location',\n          icon: 'http://maps.google.com/mapfiles/ms/icons/blue-dot.png'\n        });\n        const service = new window.google.maps.places.PlacesService(map);\n        const request = {\n          location: {\n            lat: latitude,\n            lng: longitude\n          },\n          radius: 10000,\n          keyword: 'kabadiwala scrap e-waste'\n        };\n        service.nearbySearch(request, (results, status) => {\n          if (status === window.google.maps.places.PlacesServiceStatus.OK) {\n            setPlaces(results);\n            results.forEach(place => {\n              const marker = new window.google.maps.Marker({\n                position: place.geometry.location,\n                map,\n                title: place.name\n              });\n              const infoWindow = new window.google.maps.InfoWindow({\n                content: `<strong>${place.name}</strong><br>${place.vicinity}`\n              });\n              marker.addListener('click', () => {\n                infoWindow.open(map, marker);\n              });\n            });\n            setLoading(false);\n          }\n        });\n      }, err => {\n        console.error('Geolocation error:', err);\n        setLoading(false);\n      });\n    };\n\n    // Load Google Maps script\n    if (!window.google) {\n      const script = document.createElement('script');\n      script.src = `https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_API_KEY&libraries=places`;\n      script.async = true;\n      script.defer = true;\n      script.onload = loadMap;\n      document.body.appendChild(script);\n    } else {\n      loadMap();\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      height: '100vh'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '30%',\n        padding: '1rem',\n        overflowY: 'auto',\n        backgroundColor: '#f9f9f9',\n        borderRight: '1px solid #ddd'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Nearby E-Waste Centers\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading nearby centers...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }, this) : places.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No nearby centers found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }, this) : places.map((place, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '10px',\n          padding: '10px',\n          backgroundColor: '#fff',\n          borderRadius: '6px',\n          boxShadow: '0 0 5px rgba(0,0,0,0.1)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: place.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: place.vicinity\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 17\n        }, this)]\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 15\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '70%'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: mapRef,\n        style: {\n          width: '100%',\n          height: '100%'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 7\n  }, this);\n};\n_s(MapsLeaflet, \"0yRMeyXHn/RUIiKadNAchpbM5Dc=\");\n_c = MapsLeaflet;\nexport default MapsLeaflet;\nvar _c;\n$RefreshReg$(_c, \"MapsLeaflet\");","map":{"version":3,"names":["React","useEffect","useRef","useState","jsxDEV","_jsxDEV","MapsLeaflet","_s","mapRef","places","setPlaces","loading","setLoading","location","setLocation","loadMap","navigator","geolocation","getCurrentPosition","pos","latitude","longitude","coords","lat","lng","map","window","google","maps","Map","current","center","zoom","Marker","position","title","icon","service","PlacesService","request","radius","keyword","nearbySearch","results","status","PlacesServiceStatus","OK","forEach","place","marker","geometry","name","infoWindow","InfoWindow","content","vicinity","addListener","open","err","console","error","script","document","createElement","src","async","defer","onload","body","appendChild","style","display","height","children","width","padding","overflowY","backgroundColor","borderRight","fileName","_jsxFileName","lineNumber","columnNumber","length","idx","marginBottom","borderRadius","boxShadow","ref","_c","$RefreshReg$"],"sources":["C:/Users/ankao/OneDrive/Desktop/nilesh/E-waste/frontend/src/pages/MapsLeaflet.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\n\r\n\r\n  const MapsLeaflet = () => {\r\n    const mapRef = useRef(null);\r\n    const [places, setPlaces] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [location, setLocation] = useState(null);\r\n  \r\n    useEffect(() => {\r\n      const loadMap = () => {\r\n        navigator.geolocation.getCurrentPosition(\r\n          (pos) => {\r\n            const { latitude, longitude } = pos.coords;\r\n            setLocation({ lat: latitude, lng: longitude });\r\n  \r\n            const map = new window.google.maps.Map(mapRef.current, {\r\n              center: { lat: latitude, lng: longitude },\r\n              zoom: 14,\r\n            });\r\n  \r\n            // User location marker\r\n            new window.google.maps.Marker({\r\n              position: { lat: latitude, lng: longitude },\r\n              map,\r\n              title: 'Your Location',\r\n              icon: 'http://maps.google.com/mapfiles/ms/icons/blue-dot.png',\r\n            });\r\n  \r\n            const service = new window.google.maps.places.PlacesService(map);\r\n            const request = {\r\n              location: { lat: latitude, lng: longitude },\r\n              radius: 10000,\r\n              keyword: 'kabadiwala scrap e-waste',\r\n            };\r\n  \r\n            service.nearbySearch(request, (results, status) => {\r\n              if (status === window.google.maps.places.PlacesServiceStatus.OK) {\r\n                setPlaces(results);\r\n  \r\n                results.forEach((place) => {\r\n                  const marker = new window.google.maps.Marker({\r\n                    position: place.geometry.location,\r\n                    map,\r\n                    title: place.name,\r\n                  });\r\n  \r\n                  const infoWindow = new window.google.maps.InfoWindow({\r\n                    content: `<strong>${place.name}</strong><br>${place.vicinity}`,\r\n                  });\r\n  \r\n                  marker.addListener('click', () => {\r\n                    infoWindow.open(map, marker);\r\n                  });\r\n                });\r\n  \r\n                setLoading(false);\r\n              }\r\n            });\r\n          },\r\n          (err) => {\r\n            console.error('Geolocation error:', err);\r\n            setLoading(false);\r\n          }\r\n        );\r\n      };\r\n  \r\n      // Load Google Maps script\r\n      if (!window.google) {\r\n        const script = document.createElement('script');\r\n        script.src = `https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_API_KEY&libraries=places`;\r\n        script.async = true;\r\n        script.defer = true;\r\n        script.onload = loadMap;\r\n        document.body.appendChild(script);\r\n      } else {\r\n        loadMap();\r\n      }\r\n    }, []);\r\n  \r\n    return (\r\n      <div style={{ display: 'flex', height: '100vh' }}>\r\n        {/* Sidebar */}\r\n        <div style={{\r\n          width: '30%',\r\n          padding: '1rem',\r\n          overflowY: 'auto',\r\n          backgroundColor: '#f9f9f9',\r\n          borderRight: '1px solid #ddd',\r\n        }}>\r\n          <h2>Nearby E-Waste Centers</h2>\r\n          {loading ? (\r\n            <p>Loading nearby centers...</p>\r\n          ) : places.length === 0 ? (\r\n            <p>No nearby centers found.</p>\r\n          ) : (\r\n            places.map((place, idx) => (\r\n              <div key={idx} style={{\r\n                marginBottom: '10px',\r\n                padding: '10px',\r\n                backgroundColor: '#fff',\r\n                borderRadius: '6px',\r\n                boxShadow: '0 0 5px rgba(0,0,0,0.1)',\r\n              }}>\r\n                <h4>{place.name}</h4>\r\n                <p>{place.vicinity}</p>\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n  \r\n        {/* Google Map */}\r\n        <div style={{ width: '70%' }}>\r\n          <div ref={mapRef} style={{ width: '100%', height: '100%' }} />\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  \r\n  export default MapsLeaflet;\r\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}