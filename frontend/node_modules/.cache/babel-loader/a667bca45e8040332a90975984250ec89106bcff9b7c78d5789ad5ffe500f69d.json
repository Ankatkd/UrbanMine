{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ankao\\\\OneDrive\\\\Desktop\\\\nilesh\\\\E-waste\\\\frontend\\\\src\\\\pages\\\\MapsLeaflet.js\",\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, useMapEvents } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css'; // Essential: Import Leaflet CSS for styling\n\n// FIX for default marker icon not showing up in some build environments (like Webpack)\n// Leaflet uses a default marker icon, and sometimes the path gets broken.\n// This ensures the icon images are correctly found.\nimport L from 'leaflet';\nimport icon from 'leaflet/dist/images/marker-icon.png';\nimport iconShadow from 'leaflet/dist/images/marker-shadow.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet DefaultIcon = L.icon({\n  iconUrl: icon,\n  shadowUrl: iconShadow,\n  iconSize: [25, 41],\n  // Size of the icon\n  iconAnchor: [12, 41],\n  // Point of the icon which will correspond to marker's location\n  popupAnchor: [1, -34],\n  // Point from which the popup should open relative to the iconAnchor\n  shadowSize: [41, 41] // Size of the shadow\n});\nL.Marker.prototype.options.icon = DefaultIcon;\n// End of Leaflet marker icon fix\n\nconst MapsLeaflet = () => {\n  _s2();\n  var _s = $RefreshSig$();\n  // Function name is MapsLeaflet as requested\n  const [places, setPlaces] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [userLocation, setUserLocation] = useState(null); // [lat, lng] for current device location\n  // currentMapCenter will be the coordinates that the map is centered on for the search\n  // This can be userLocation or a manually entered location.\n  const [currentMapCenter, setCurrentMapCenter] = useState(null);\n  const [manualLocationInput, setManualLocationInput] = useState(''); // State for manual input text\n  const mapRef = useRef(null); // Ref for MapContainer instance, for programmatic control (e.g., setView)\n\n  // This component is used to get the Leaflet map instance within the MapContainer\n  // and store it in mapRef, and to handle any global map events if needed.\n  const MapEventsHandler = () => {\n    _s();\n    const map = useMapEvents({\n      // We are not actively listening to map movement for new searches in this version\n      // but the useMapEvents hook is still useful for getting the map instance.\n    });\n    mapRef.current = map; // Store the map instance for external control\n    return null;\n  };\n\n  // Function to perform nearby search using Nominatim\n  _s(MapEventsHandler, \"D2AvXN8Rt/r3DPix6IJfcPGmgF0=\", false, function () {\n    return [useMapEvents];\n  });\n  const searchNearbyPlaces = async (lat, lng, queryKeywords = 'e-waste recycling, electronics waste, scrap dealer, kabadiwala') => {\n    setLoading(true);\n    setPlaces([]); // Clear previous results\n    const USER_AGENT = 'EwastePickupApp/1.0 (contact@yourdomain.com)';\n    const bboxSize = 0.05; // ~5.5km radius. Adjust as needed for local relevance.\n    const viewbox = `${lng - bboxSize},${lat - bboxSize},${lng + bboxSize},${lat + bboxSize}`;\n    try {\n      const response = await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(queryKeywords)}&format=json&limit=20&addressdetails=1&extratags=1&bounded=1&viewbox=${viewbox}`, {\n        headers: {\n          'User-Agent': USER_AGENT\n        }\n      });\n      if (!response.ok) {\n        console.error(`Nominatim API error: ${response.status} - ${response.statusText}`);\n        alert(`Failed to fetch nearby centers: ${response.statusText}. Please try again later.`);\n        throw new Error(`Nominatim API error: ${response.statusText}`);\n      }\n      const data = await response.json();\n      console.log('Nearby Nominatim results:', data);\n      const validPlaces = data.filter(item => item.lat && item.lon);\n      setPlaces(validPlaces);\n      setLoading(false);\n    } catch (error) {\n      console.error('Error fetching from Nominatim:', error);\n      setLoading(false);\n      setPlaces([]); // Clear places on error\n    }\n  };\n\n  // Function to geocode a manual location input\n  const geocodeManualLocation = async locationText => {\n    setLoading(true);\n    setPlaces([]); // Clear previous results immediately\n    const USER_AGENT = 'EwastePickupApp/1.0 (contact@yourdomain.com)';\n    try {\n      const response = await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(locationText)}&format=json&limit=1&addressdetails=1`,\n      // Limit to 1 most relevant result\n      {\n        headers: {\n          'User-Agent': USER_AGENT\n        }\n      });\n      if (!response.ok) {\n        throw new Error(`Nominatim geocoding error: ${response.statusText}`);\n      }\n      const data = await response.json();\n      if (data.length > 0) {\n        const {\n          lat,\n          lon\n        } = data[0];\n        const newCenter = [parseFloat(lat), parseFloat(lon)];\n        setCurrentMapCenter(newCenter); // Set the map's center to the geocoded location\n        if (mapRef.current) {\n          mapRef.current.setView(newCenter, 14); // Pan map to new location\n        }\n        // Now perform the nearby search around this newly geocoded location\n        searchNearbyPlaces(parseFloat(lat), parseFloat(lon));\n      } else {\n        alert('Location not found. Please try a different address or place name.');\n        setLoading(false);\n        setPlaces([]); // Clear results if location not found\n      }\n    } catch (error) {\n      console.error('Error geocoding manual location:', error);\n      alert('Could not process location. Please check your input.');\n      setLoading(false);\n      setPlaces([]);\n    }\n  };\n\n  // Handles click for manual location search\n  const handleManualSearchClick = () => {\n    if (manualLocationInput.trim()) {\n      geocodeManualLocation(manualLocationInput.trim());\n    } else {\n      alert('Please enter a location to search.');\n    }\n  };\n\n  // Handles search for current location (via geolocation)\n  const handleCurrentLocationSearchClick = () => {\n    setLoading(true);\n    setPlaces([]); // Clear previous results immediately\n    navigator.geolocation.getCurrentPosition(pos => {\n      const {\n        latitude,\n        longitude\n      } = pos.coords;\n      const newCenter = [latitude, longitude];\n      setUserLocation(newCenter); // Store user's actual device location\n      setCurrentMapCenter(newCenter); // Set map center to user's location\n      if (mapRef.current) {\n        mapRef.current.setView(newCenter, 14);\n      }\n      // Now perform the nearby search around the user's current location\n      searchNearbyPlaces(latitude, longitude);\n    }, err => {\n      console.error('Geolocation error:', err);\n      setLoading(false);\n      alert('Could not get your current location. Please ensure location services are enabled or try searching manually.');\n      // If geolocation fails, set a default center but don't search if the user denied it.\n      // The user can then use manual search.\n      const defaultLat = 18.5204; // Pune latitude (approx)\n      const defaultLng = 73.8567; // Pune longitude (approx)\n      setCurrentMapCenter([defaultLat, defaultLng]);\n    }, {\n      enableHighAccuracy: true,\n      timeout: 5000,\n      maximumAge: 0\n    });\n  };\n  useEffect(() => {\n    // On initial component mount, try to get user's current location and search around it.\n    handleCurrentLocationSearchClick();\n  }, []); // Run only once on component mount\n\n  // The map's center is determined by currentMapCenter (which is updated by both manual and geolocation searches).\n  // Fallback to a default if neither is available initially.\n  const initialMapCenter = currentMapCenter || userLocation || [18.5204, 73.8567]; // Default to Pune if nothing else is set\n\n  if (loading && !currentMapCenter && !userLocation) {\n    // Only show full loading screen if we haven't even determined an initial map center yet\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100vh',\n        fontSize: '1.2rem'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\uD83D\\uDDFA\\uFE0F Loading map... Please grant location access or search manually.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      height: '100vh'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '30%',\n        padding: '1rem',\n        overflowY: 'auto',\n        backgroundColor: '#f9f9f9',\n        borderRight: '1px solid #ddd',\n        boxSizing: 'border-box'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Search E-Waste Centers\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '1rem',\n          borderBottom: '1px solid #eee',\n          paddingBottom: '1rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Search by Location:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Enter city, address, or landmark (e.g., Pune, Mumbai)\",\n          value: manualLocationInput,\n          onChange: e => setManualLocationInput(e.target.value),\n          onKeyPress: e => {\n            // Allow pressing Enter to search\n            if (e.key === 'Enter') {\n              handleManualSearchClick();\n            }\n          },\n          style: {\n            width: 'calc(100% - 10px)',\n            padding: '8px',\n            marginBottom: '10px',\n            borderRadius: '4px',\n            border: '1px solid #ccc'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleManualSearchClick,\n          disabled: loading,\n          style: {\n            padding: '8px 15px',\n            backgroundColor: '#007bff',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: 'pointer',\n            opacity: loading ? 0.7 : 1\n          },\n          children: \"Search Location\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '1rem',\n          borderBottom: '1px solid #eee',\n          paddingBottom: '1rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Or Search My Current Location:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleCurrentLocationSearchClick,\n          disabled: loading,\n          style: {\n            padding: '8px 15px',\n            backgroundColor: '#28a745',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: 'pointer',\n            opacity: loading ? 0.7 : 1\n          },\n          children: \"Use My Location\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Nearby Centers List:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\uD83D\\uDD0D Searching for centers...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 11\n      }, this) : places.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\uD83D\\uDE14 No nearby centers found based on keywords for the current location. Try a different location or broader terms.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 11\n      }, this) : places.map((place, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '10px',\n          padding: '10px',\n          backgroundColor: '#fff',\n          borderRadius: '6px',\n          boxShadow: '0 0 5px rgba(0,0,0,0.1)',\n          cursor: 'pointer',\n          transition: 'transform 0.2s ease-in-out'\n        },\n        onClick: () => {\n          if (mapRef.current) {\n            mapRef.current.setView([parseFloat(place.lat), parseFloat(place.lon)], 16); // Zoom in on clicked place\n          }\n        },\n        onMouseEnter: e => e.currentTarget.style.transform = 'translateY(-2px)',\n        onMouseLeave: e => e.currentTarget.style.transform = 'translateY(0)',\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: place.name || place.display_name.split(',')[0] || 'Unknown Place'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: place.display_name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 15\n        }, this), place.address && place.address.road && place.address.city && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Address: \", place.address.road, \", \", place.address.city]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 17\n        }, this), place.type && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Type: \", place.type]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 30\n        }, this)]\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '70%'\n      },\n      children: initialMapCenter ? /*#__PURE__*/_jsxDEV(MapContainer, {\n        center: initialMapCenter // Map centers on current search location (manual or geo)\n        ,\n        zoom: 14,\n        scrollWheelZoom: true,\n        style: {\n          height: '100%',\n          width: '100%'\n        },\n        whenCreated: map => mapRef.current = map,\n        children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n          attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\",\n          url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 13\n        }, this), userLocation && /*#__PURE__*/_jsxDEV(Marker, {\n          position: userLocation,\n          children: /*#__PURE__*/_jsxDEV(Popup, {\n            children: \"Your Current Device Location\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 17\n        }, this), currentMapCenter && userLocation && (currentMapCenter[0] !== userLocation[0] || currentMapCenter[1] !== userLocation[1]) && /*#__PURE__*/_jsxDEV(Marker, {\n          position: currentMapCenter,\n          icon: L.icon({\n            iconUrl: 'https://cdn-icons-png.flaticon.com/512/1077/1077114.png',\n            iconSize: [32, 32],\n            iconAnchor: [16, 32],\n            popupAnchor: [0, -32]\n          }),\n          children: /*#__PURE__*/_jsxDEV(Popup, {\n            children: [\"Search Location: \", manualLocationInput || 'Manual Search']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 17\n        }, this), places.map((place, idx) => /*#__PURE__*/_jsxDEV(Marker, {\n          position: [parseFloat(place.lat), parseFloat(place.lon)],\n          children: /*#__PURE__*/_jsxDEV(Popup, {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: place.name || place.display_name.split(',')[0]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 84\n            }, this), place.display_name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 17\n          }, this)\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 15\n        }, this)), /*#__PURE__*/_jsxDEV(MapEventsHandler, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          height: '100%',\n          border: '1px solid #ccc',\n          background: '#e0e0e0'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\uD83C\\uDF0D Map not loaded. Please use \\\"Use My Location\\\" or \\\"Search Location\\\" to begin.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 186,\n    columnNumber: 5\n  }, this);\n};\n_s2(MapsLeaflet, \"+QYx4PQXSpDr/okneyl03pnupMA=\");\n_c = MapsLeaflet;\nexport default MapsLeaflet;\nvar _c;\n$RefreshReg$(_c, \"MapsLeaflet\");","map":{"version":3,"names":["React","useEffect","useRef","useState","MapContainer","TileLayer","Marker","Popup","useMapEvents","L","icon","iconShadow","jsxDEV","_jsxDEV","DefaultIcon","iconUrl","shadowUrl","iconSize","iconAnchor","popupAnchor","shadowSize","prototype","options","MapsLeaflet","_s2","_s","$RefreshSig$","places","setPlaces","loading","setLoading","userLocation","setUserLocation","currentMapCenter","setCurrentMapCenter","manualLocationInput","setManualLocationInput","mapRef","MapEventsHandler","map","current","searchNearbyPlaces","lat","lng","queryKeywords","USER_AGENT","bboxSize","viewbox","response","fetch","encodeURIComponent","headers","ok","console","error","status","statusText","alert","Error","data","json","log","validPlaces","filter","item","lon","geocodeManualLocation","locationText","length","newCenter","parseFloat","setView","handleManualSearchClick","trim","handleCurrentLocationSearchClick","navigator","geolocation","getCurrentPosition","pos","latitude","longitude","coords","err","defaultLat","defaultLng","enableHighAccuracy","timeout","maximumAge","initialMapCenter","style","display","justifyContent","alignItems","height","fontSize","children","fileName","_jsxFileName","lineNumber","columnNumber","width","padding","overflowY","backgroundColor","borderRight","boxSizing","marginBottom","borderBottom","paddingBottom","type","placeholder","value","onChange","e","target","onKeyPress","key","borderRadius","border","onClick","disabled","color","cursor","opacity","place","idx","boxShadow","transition","onMouseEnter","currentTarget","transform","onMouseLeave","name","display_name","split","address","road","city","center","zoom","scrollWheelZoom","whenCreated","attribution","url","position","background","_c","$RefreshReg$"],"sources":["C:/Users/ankao/OneDrive/Desktop/nilesh/E-waste/frontend/src/pages/MapsLeaflet.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport { MapContainer, TileLayer, Marker, Popup, useMapEvents } from 'react-leaflet';\r\nimport 'leaflet/dist/leaflet.css'; // Essential: Import Leaflet CSS for styling\r\n\r\n// FIX for default marker icon not showing up in some build environments (like Webpack)\r\n// Leaflet uses a default marker icon, and sometimes the path gets broken.\r\n// This ensures the icon images are correctly found.\r\nimport L from 'leaflet';\r\nimport icon from 'leaflet/dist/images/marker-icon.png';\r\nimport iconShadow from 'leaflet/dist/images/marker-shadow.png';\r\n\r\nlet DefaultIcon = L.icon({\r\n    iconUrl: icon,\r\n    shadowUrl: iconShadow,\r\n    iconSize: [25, 41],    // Size of the icon\r\n    iconAnchor: [12, 41],  // Point of the icon which will correspond to marker's location\r\n    popupAnchor: [1, -34], // Point from which the popup should open relative to the iconAnchor\r\n    shadowSize: [41, 41]   // Size of the shadow\r\n});\r\n\r\nL.Marker.prototype.options.icon = DefaultIcon;\r\n// End of Leaflet marker icon fix\r\n\r\nconst MapsLeaflet = () => { // Function name is MapsLeaflet as requested\r\n  const [places, setPlaces] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [userLocation, setUserLocation] = useState(null); // [lat, lng] for current device location\r\n  // currentMapCenter will be the coordinates that the map is centered on for the search\r\n  // This can be userLocation or a manually entered location.\r\n  const [currentMapCenter, setCurrentMapCenter] = useState(null); \r\n  const [manualLocationInput, setManualLocationInput] = useState(''); // State for manual input text\r\n  const mapRef = useRef(null); // Ref for MapContainer instance, for programmatic control (e.g., setView)\r\n\r\n  // This component is used to get the Leaflet map instance within the MapContainer\r\n  // and store it in mapRef, and to handle any global map events if needed.\r\n  const MapEventsHandler = () => {\r\n    const map = useMapEvents({\r\n      // We are not actively listening to map movement for new searches in this version\r\n      // but the useMapEvents hook is still useful for getting the map instance.\r\n    });\r\n    mapRef.current = map; // Store the map instance for external control\r\n    return null;\r\n  };\r\n\r\n  // Function to perform nearby search using Nominatim\r\n  const searchNearbyPlaces = async (lat, lng, queryKeywords = 'e-waste recycling, electronics waste, scrap dealer, kabadiwala') => {\r\n    setLoading(true);\r\n    setPlaces([]); // Clear previous results\r\n    const USER_AGENT = 'EwastePickupApp/1.0 (contact@yourdomain.com)'; \r\n    const bboxSize = 0.05; // ~5.5km radius. Adjust as needed for local relevance.\r\n    const viewbox = `${lng - bboxSize},${lat - bboxSize},${lng + bboxSize},${lat + bboxSize}`;\r\n\r\n    try {\r\n      const response = await fetch(\r\n        `https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(queryKeywords)}&format=json&limit=20&addressdetails=1&extratags=1&bounded=1&viewbox=${viewbox}`,\r\n        {\r\n          headers: {\r\n            'User-Agent': USER_AGENT,\r\n          },\r\n        }\r\n      );\r\n\r\n      if (!response.ok) {\r\n        console.error(`Nominatim API error: ${response.status} - ${response.statusText}`);\r\n        alert(`Failed to fetch nearby centers: ${response.statusText}. Please try again later.`);\r\n        throw new Error(`Nominatim API error: ${response.statusText}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      console.log('Nearby Nominatim results:', data);\r\n\r\n      const validPlaces = data.filter(item => item.lat && item.lon);\r\n      setPlaces(validPlaces);\r\n      setLoading(false);\r\n\r\n    } catch (error) {\r\n      console.error('Error fetching from Nominatim:', error);\r\n      setLoading(false);\r\n      setPlaces([]); // Clear places on error\r\n    }\r\n  };\r\n\r\n  // Function to geocode a manual location input\r\n  const geocodeManualLocation = async (locationText) => {\r\n    setLoading(true);\r\n    setPlaces([]); // Clear previous results immediately\r\n    const USER_AGENT = 'EwastePickupApp/1.0 (contact@yourdomain.com)'; \r\n\r\n    try {\r\n      const response = await fetch(\r\n        `https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(locationText)}&format=json&limit=1&addressdetails=1`, // Limit to 1 most relevant result\r\n        {\r\n          headers: {\r\n            'User-Agent': USER_AGENT,\r\n          },\r\n        }\r\n      );\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`Nominatim geocoding error: ${response.statusText}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      if (data.length > 0) {\r\n        const { lat, lon } = data[0];\r\n        const newCenter = [parseFloat(lat), parseFloat(lon)];\r\n        setCurrentMapCenter(newCenter); // Set the map's center to the geocoded location\r\n        if (mapRef.current) {\r\n          mapRef.current.setView(newCenter, 14); // Pan map to new location\r\n        }\r\n        // Now perform the nearby search around this newly geocoded location\r\n        searchNearbyPlaces(parseFloat(lat), parseFloat(lon)); \r\n      } else {\r\n        alert('Location not found. Please try a different address or place name.');\r\n        setLoading(false);\r\n        setPlaces([]); // Clear results if location not found\r\n      }\r\n    } catch (error) {\r\n      console.error('Error geocoding manual location:', error);\r\n      alert('Could not process location. Please check your input.');\r\n      setLoading(false);\r\n      setPlaces([]);\r\n    }\r\n  };\r\n\r\n  // Handles click for manual location search\r\n  const handleManualSearchClick = () => {\r\n    if (manualLocationInput.trim()) {\r\n      geocodeManualLocation(manualLocationInput.trim());\r\n    } else {\r\n      alert('Please enter a location to search.');\r\n    }\r\n  };\r\n\r\n  // Handles search for current location (via geolocation)\r\n  const handleCurrentLocationSearchClick = () => {\r\n    setLoading(true);\r\n    setPlaces([]); // Clear previous results immediately\r\n    navigator.geolocation.getCurrentPosition(\r\n      (pos) => {\r\n        const { latitude, longitude } = pos.coords;\r\n        const newCenter = [latitude, longitude];\r\n        setUserLocation(newCenter); // Store user's actual device location\r\n        setCurrentMapCenter(newCenter); // Set map center to user's location\r\n        if (mapRef.current) {\r\n          mapRef.current.setView(newCenter, 14);\r\n        }\r\n        // Now perform the nearby search around the user's current location\r\n        searchNearbyPlaces(latitude, longitude); \r\n      },\r\n      (err) => {\r\n        console.error('Geolocation error:', err);\r\n        setLoading(false);\r\n        alert('Could not get your current location. Please ensure location services are enabled or try searching manually.');\r\n        // If geolocation fails, set a default center but don't search if the user denied it.\r\n        // The user can then use manual search.\r\n        const defaultLat = 18.5204; // Pune latitude (approx)\r\n        const defaultLng = 73.8567; // Pune longitude (approx)\r\n        setCurrentMapCenter([defaultLat, defaultLng]);\r\n      },\r\n      { enableHighAccuracy: true, timeout: 5000, maximumAge: 0 }\r\n    );\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    // On initial component mount, try to get user's current location and search around it.\r\n    handleCurrentLocationSearchClick(); \r\n  }, []); // Run only once on component mount\r\n\r\n\r\n  // The map's center is determined by currentMapCenter (which is updated by both manual and geolocation searches).\r\n  // Fallback to a default if neither is available initially.\r\n  const initialMapCenter = currentMapCenter || userLocation || [18.5204, 73.8567]; // Default to Pune if nothing else is set\r\n\r\n  if (loading && !currentMapCenter && !userLocation) {\r\n    // Only show full loading screen if we haven't even determined an initial map center yet\r\n    return (\r\n      <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh', fontSize: '1.2rem' }}>\r\n        <p>üó∫Ô∏è Loading map... Please grant location access or search manually.</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={{ display: 'flex', height: '100vh' }}>\r\n      {/* Sidebar for controls and displaying nearby places */}\r\n      <div\r\n        style={{\r\n          width: '30%',\r\n          padding: '1rem',\r\n          overflowY: 'auto',\r\n          backgroundColor: '#f9f9f9',\r\n          borderRight: '1px solid #ddd',\r\n          boxSizing: 'border-box',\r\n        }}\r\n      >\r\n        <h2>Search E-Waste Centers</h2>\r\n\r\n        {/* Manual Location Input */}\r\n        <div style={{ marginBottom: '1rem', borderBottom: '1px solid #eee', paddingBottom: '1rem' }}>\r\n          <h3>Search by Location:</h3>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Enter city, address, or landmark (e.g., Pune, Mumbai)\"\r\n            value={manualLocationInput}\r\n            onChange={(e) => setManualLocationInput(e.target.value)}\r\n            onKeyPress={(e) => { // Allow pressing Enter to search\r\n              if (e.key === 'Enter') {\r\n                handleManualSearchClick();\r\n              }\r\n            }}\r\n            style={{ width: 'calc(100% - 10px)', padding: '8px', marginBottom: '10px', borderRadius: '4px', border: '1px solid #ccc' }}\r\n          />\r\n          <button\r\n            onClick={handleManualSearchClick}\r\n            disabled={loading}\r\n            style={{ padding: '8px 15px', backgroundColor: '#007bff', color: 'white', border: 'none', borderRadius: '4px', cursor: 'pointer', opacity: loading ? 0.7 : 1 }}\r\n          >\r\n            Search Location\r\n          </button>\r\n        </div>\r\n\r\n        {/* Current Location Search Button */}\r\n        <div style={{ marginBottom: '1rem', borderBottom: '1px solid #eee', paddingBottom: '1rem' }}>\r\n          <h3>Or Search My Current Location:</h3>\r\n          <button\r\n            onClick={handleCurrentLocationSearchClick}\r\n            disabled={loading}\r\n            style={{ padding: '8px 15px', backgroundColor: '#28a745', color: 'white', border: 'none', borderRadius: '4px', cursor: 'pointer', opacity: loading ? 0.7 : 1 }}\r\n          >\r\n            Use My Location\r\n          </button>\r\n        </div>\r\n        \r\n        {/* Nearby Centers List */}\r\n        <h3>Nearby Centers List:</h3>\r\n        {loading ? (\r\n          <p>üîç Searching for centers...</p>\r\n        ) : places.length === 0 ? (\r\n          <p>üòî No nearby centers found based on keywords for the current location. Try a different location or broader terms.</p>\r\n        ) : (\r\n          places.map((place, idx) => (\r\n            <div\r\n              key={idx}\r\n              style={{\r\n                marginBottom: '10px',\r\n                padding: '10px',\r\n                backgroundColor: '#fff',\r\n                borderRadius: '6px',\r\n                boxShadow: '0 0 5px rgba(0,0,0,0.1)',\r\n                cursor: 'pointer',\r\n                transition: 'transform 0.2s ease-in-out',\r\n              }}\r\n              onClick={() => {\r\n                if (mapRef.current) {\r\n                  mapRef.current.setView([parseFloat(place.lat), parseFloat(place.lon)], 16); // Zoom in on clicked place\r\n                }\r\n              }}\r\n              onMouseEnter={(e) => e.currentTarget.style.transform = 'translateY(-2px)'}\r\n              onMouseLeave={(e) => e.currentTarget.style.transform = 'translateY(0)'}\r\n            >\r\n              <h4>{place.name || place.display_name.split(',')[0] || 'Unknown Place'}</h4> \r\n              <p>{place.display_name}</p>\r\n              {place.address && place.address.road && place.address.city && (\r\n                <p>Address: {place.address.road}, {place.address.city}</p>\r\n              )}\r\n              {place.type && <p>Type: {place.type}</p>}\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n\r\n      {/* Map Display Area */}\r\n      <div style={{ width: '70%' }}>\r\n        {initialMapCenter ? (\r\n          <MapContainer\r\n            center={initialMapCenter} // Map centers on current search location (manual or geo)\r\n            zoom={14}\r\n            scrollWheelZoom={true}\r\n            style={{ height: '100%', width: '100%' }}\r\n            whenCreated={map => (mapRef.current = map)}\r\n          >\r\n            <TileLayer\r\n              attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n              url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n            />\r\n            \r\n            {/* Marker for user's actual device location (if available) */}\r\n            {userLocation && (\r\n                <Marker position={userLocation}>\r\n                    <Popup>Your Current Device Location</Popup>\r\n                </Marker>\r\n            )}\r\n\r\n            {/* Marker for the center of the current search (if different from user's actual location) */}\r\n            {currentMapCenter && userLocation && \r\n             (currentMapCenter[0] !== userLocation[0] || currentMapCenter[1] !== userLocation[1]) && (\r\n                <Marker position={currentMapCenter} icon={L.icon({ iconUrl: 'https://cdn-icons-png.flaticon.com/512/1077/1077114.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] })}>\r\n                    <Popup>Search Location: {manualLocationInput || 'Manual Search'}</Popup>\r\n                </Marker>\r\n            )}\r\n            \r\n            {/* Markers for the found e-waste places */}\r\n            {places.map((place, idx) => (\r\n              <Marker key={idx} position={[parseFloat(place.lat), parseFloat(place.lon)]}>\r\n                <Popup>\r\n                  <strong>{place.name || place.display_name.split(',')[0]}</strong><br/>\r\n                  {place.display_name}\r\n                </Popup>\r\n              </Marker>\r\n            ))}\r\n            \r\n            <MapEventsHandler />\r\n          </MapContainer>\r\n        ) : (\r\n          <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100%', border: '1px solid #ccc', background: '#e0e0e0' }}>\r\n            <p>üåç Map not loaded. Please use \"Use My Location\" or \"Search Location\" to begin.</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MapsLeaflet;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}