{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ankao\\\\OneDrive\\\\Desktop\\\\nilesh\\\\E-waste\\\\frontend\\\\src\\\\pages\\\\Profile.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Profile() {\n  _s();\n  const navigate = useNavigate();\n  const [user, setUser] = useState({\n    id: '',\n    fullname: '',\n    email: '',\n    phone: '',\n    location: '',\n    role: '',\n    password: ''\n  });\n  const [pickups, setPickups] = useState([]);\n  const [view, setView] = useState('dashboard');\n  const userId = localStorage.getItem('userId');\n  useEffect(() => {\n    // If session expired or user not logged in\n    if (!userId || localStorage.getItem('isLoggedIn') !== 'true') {\n      handleLogout();\n      return;\n    }\n    const fetchProfile = async () => {\n      try {\n        const response = await fetch(`http://localhost:8082/api/user/${userId}`);\n        if (response.status === 401 || response.status === 403) {\n          handleLogout();\n          return;\n        }\n        const data = await response.json();\n        setUser(data);\n      } catch (error) {\n        console.error('Error fetching profile:', error);\n        handleLogout(); // auto logout on failure\n      }\n    };\n\n    // Modified to fetch from ProfileController's history endpoint\n    const fetchPickups = async () => {\n      try {\n        // Updated endpoint to hit ProfileController's getPickupHistory\n        const response = await fetch(`http://localhost:8082/api/pickups/${userId}`); // This URL correctly targets ProfileController\n        if (response.status === 401 || response.status === 403) {\n          handleLogout();\n          return;\n        }\n        const data = await response.json();\n        console.log(\"Fetched Pickups Data:\", data); // Debugging: Check the structure of data\n        setPickups(Array.isArray(data) ? data : []);\n      } catch (error) {\n        console.error('Error fetching pickups:', error);\n        setPickups([]);\n      }\n    };\n    fetchProfile();\n    fetchPickups();\n  }, [userId, navigate]); // Added navigate to dependency array for useEffect safety\n\n  const handleChange = e => {\n    setUser({\n      ...user,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleUpdate = async () => {\n    try {\n      const updateData = {\n        ...user\n      };\n      const response = await fetch(`http://localhost:8082/api/user/update`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(updateData)\n      });\n      if (response.ok) {\n        alert('Profile updated successfully!');\n        setView('dashboard');\n      } else {\n        alert('Failed to update profile');\n      }\n    } catch (error) {\n      console.error('Error updating profile:', error);\n    }\n  };\n  const handleLogout = () => {\n    localStorage.removeItem('isLoggedIn');\n    localStorage.removeItem('userId');\n    localStorage.removeItem('userRole'); // Clear userRole on logout\n    window.dispatchEvent(new Event('loginStatusChanged'));\n    navigate('/login');\n  };\n  const wasteItems = [{\n    name: 'Fridge',\n    price: '‚Çπ1,500',\n    image: 'https://images.jdmagicbox.com/quickquotes/images_main/refrigerator-scrap-2219509427-iw6dq6oa.jpg'\n  }, {\n    name: 'TV',\n    price: '‚Çπ800',\n    image: 'https://i.pinimg.com/736x/9d/c0/7e/9dc07e2422dd353ca0547d877500635b.jpg'\n  }, {\n    name: 'Cooler',\n    price: '‚Çπ500',\n    image: 'https://5.imimg.com/data5/SELLER/Default/2022/2/KV/DD/HM/146664232/cooler-waste-scrap-500x500.png'\n  }, {\n    name: 'Washing Machine',\n    price: '‚Çπ1,200',\n    image: 'https://as1.ftcdn.net/jpg/02/80/56/26/1000_F_280562639_qYris0M1bcJHBSjTmrtt1ueHLaDCw3Bd.jpg'\n  }, {\n    name: 'Microwave',\n    price: '‚Çπ700',\n    image: 'https://c8.alamy.com/comp/2KYKPA1/old-broken-small-hot-plate-oven-and-other-old-e-waste-appliances-pilled-up-in-the-background-2KYKPA1.jpg'\n  }];\n\n  // Helper function to get image URL for displayed history\n  const getImageUrl = imagePath => {\n    if (imagePath) {\n      // Assuming your backend serves static files from 'uploads/'\n      // You might need to configure Spring Boot to serve static content from 'uploads' directory\n      // For local development, if 'uploads' is in the root of your backend, it might be accessible\n      // at http://localhost:8082/uploads/<filename.ext>\n      return `http://localhost:8082/${imagePath}`;\n    }\n    return 'https://via.placeholder.com/50'; // Default placeholder image\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex bg-gray-50 min-h-screen\",\n    children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n      className: \"w-64 bg-green-800 text-white min-h-screen p-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-xl font-bold mb-8\",\n        children: \"\\u267B\\uFE0F E-Waste Manager\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"space-y-4 text-white\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: `cursor-pointer flex items-center gap-2 ${view === 'dashboard' && 'font-bold'}`,\n          onClick: () => setView('dashboard'),\n          children: \"\\uD83E\\uDDED Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: `cursor-pointer flex items-center gap-2 ${view === 'edit' && 'font-bold'}`,\n          onClick: () => setView('edit'),\n          children: \"\\uD83D\\uDEE0\\uFE0F Edit Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: `cursor-pointer flex items-center gap-2 ${view === 'pickup' && 'font-bold'}`,\n          onClick: () => setView('pickup'),\n          children: \"\\uD83D\\uDCDC Pickup History\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"cursor-pointer flex items-center gap-2 font-bold text-yellow-300\",\n          onClick: () => navigate('/pickup'),\n          children: \"\\uD83D\\uDCE6 Schedule Pickup\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogout,\n        className: \"mt-10 bg-white text-green-800 px-4 py-2 rounded hover:bg-green-100 w-full\",\n        children: \"\\uD83D\\uDD12 Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"flex-1 p-8\",\n      children: [view === 'dashboard' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-md p-6 text-center max-w-xl mx-auto mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"https://i.pravatar.cc/150?img=3\",\n            alt: \"Profile\",\n            className: \"w-24 h-24 rounded-full mx-auto mb-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold\",\n            children: user.fullname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500\",\n            children: user.role\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600\",\n            children: user.location\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-semibold mb-4\",\n            children: \"Smart Insights\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"mb-4 list-disc list-inside text-gray-700\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"You\\u2019ve scheduled \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: pickups.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 38\n              }, this), \" E-Waste pickups.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"Suggested next pickup: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Coming soon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 44\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold mb-2\",\n            children: \"Estimated Prices\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4\",\n            children: wasteItems.map((item, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white p-4 rounded shadow text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: item.image,\n                alt: item.name,\n                className: \"h-40 w-full object-cover rounded mb-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-semibold\",\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-green-700\",\n                children: item.price\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 21\n              }, this)]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), view === 'edit' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-lg shadow-md max-w-xl mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-green-800 mb-4\",\n          children: \"Edit Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"fullname\",\n            value: user.fullname,\n            onChange: handleChange,\n            className: \"w-full p-3 border rounded\",\n            placeholder: \"Full Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"location\",\n            value: user.location,\n            onChange: handleChange,\n            className: \"w-full p-3 border rounded\",\n            placeholder: \"Location\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"password\",\n            value: user.password,\n            onChange: handleChange,\n            type: \"password\",\n            className: \"w-full p-3 border rounded\",\n            placeholder: \"New Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"email\",\n            value: user.email,\n            disabled: true,\n            className: \"w-full p-3 border rounded bg-gray-100 cursor-not-allowed\",\n            placeholder: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"role\",\n            value: user.role,\n            disabled: true,\n            className: \"w-full p-3 border rounded bg-gray-100 cursor-not-allowed\",\n            placeholder: \"Role\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleUpdate,\n            className: \"bg-green-700 text-white px-4 py-2 rounded hover:bg-green-800\",\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 11\n      }, this), view === 'pickup' && /*#__PURE__*/_jsxDEV(\"section\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold text-green-800 mb-4\",\n          children: \"Pickup History\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }, this), pickups.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overflow-x-auto\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"min-w-full table-auto border-collapse border border-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"bg-green-100\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"p-3 border text-left text-sm font-semibold text-gray-700\",\n                  children: \"Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"p-3 border text-left text-sm font-semibold text-gray-700\",\n                  children: \"Time\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"p-3 border text-left text-sm font-semibold text-gray-700\",\n                  children: \"Waste Type\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"p-3 border text-left text-sm font-semibold text-gray-700\",\n                  children: \"Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"p-3 border text-left text-sm font-semibold text-gray-700\",\n                  children: \"Address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"p-3 border text-left text-sm font-semibold text-gray-700\",\n                  children: \"City\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"p-3 border text-left text-sm font-semibold text-gray-700\",\n                  children: \"Pincode\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"p-3 border text-left text-sm font-semibold text-gray-700\",\n                  children: \"Image\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: pickups.map((pickup, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"hover:bg-gray-50\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"p-3 border text-sm text-gray-800\",\n                  children: pickup.date || 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"p-3 border text-sm text-gray-800\",\n                  children: pickup.time || 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"p-3 border text-sm text-gray-800\",\n                  children: pickup.waste_type || 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 25\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"p-3 border text-sm text-gray-800\",\n                  children: pickup.status || 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"p-3 border text-sm text-gray-800\",\n                  children: pickup.address || 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"p-3 border text-sm text-gray-800\",\n                  children: pickup.city || 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"p-3 border text-sm text-gray-800\",\n                  children: pickup.pincode || 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"p-3 border text-sm text-gray-800\",\n                  children: pickup.image_path ?\n                  /*#__PURE__*/\n                  // Note: column name is image_path from DB\n                  _jsxDEV(\"img\", {\n                    src: getImageUrl(pickup.image_path),\n                    alt: \"Pickup Item\",\n                    className: \"w-16 h-16 object-cover rounded\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 29\n                  }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"No Image\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 214,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 25\n                }, this)]\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500\",\n          children: \"No pickup records found. Schedule your first pickup!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-100 p-4 rounded-md text-sm text-gray-700 mt-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-bold mb-2\",\n          children: \"Terms & Conditions:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"list-disc list-inside space-y-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Prices shown are approximate and may vary based on item condition and location.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Items must be in a recyclable state (no excessive damage or contamination).\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Pickups are subject to availability and area coverage.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"We reserve the right to reject items that don\\u2019t meet minimum requirements.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 5\n  }, this);\n}\n_s(Profile, \"1BgA7RKg7r/iIHRTzqdxhEcz2Js=\", false, function () {\n  return [useNavigate];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","Profile","_s","navigate","user","setUser","id","fullname","email","phone","location","role","password","pickups","setPickups","view","setView","userId","localStorage","getItem","handleLogout","fetchProfile","response","fetch","status","data","json","error","console","fetchPickups","log","Array","isArray","handleChange","e","target","name","value","handleUpdate","updateData","method","headers","body","JSON","stringify","ok","alert","removeItem","window","dispatchEvent","Event","wasteItems","price","image","getImageUrl","imagePath","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","src","alt","length","map","item","idx","onChange","placeholder","type","disabled","pickup","i","date","time","waste_type","address","city","pincode","image_path","_c","$RefreshReg$"],"sources":["C:/Users/ankao/OneDrive/Desktop/nilesh/E-waste/frontend/src/pages/Profile.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction Profile() {\r\n  const navigate = useNavigate();\r\n  const [user, setUser] = useState({\r\n    id: '',\r\n    fullname: '',\r\n    email: '',\r\n    phone: '',\r\n    location: '',\r\n    role: '',\r\n    password: ''\r\n  });\r\n\r\n  const [pickups, setPickups] = useState([]);\r\n  const [view, setView] = useState('dashboard');\r\n  const userId = localStorage.getItem('userId');\r\n\r\n  useEffect(() => {\r\n    // If session expired or user not logged in\r\n    if (!userId || localStorage.getItem('isLoggedIn') !== 'true') {\r\n      handleLogout();\r\n      return;\r\n    }\r\n\r\n    const fetchProfile = async () => {\r\n      try {\r\n        const response = await fetch(`http://localhost:8082/api/user/${userId}`);\r\n        if (response.status === 401 || response.status === 403) {\r\n          handleLogout();\r\n          return;\r\n        }\r\n        const data = await response.json();\r\n        setUser(data);\r\n      } catch (error) {\r\n        console.error('Error fetching profile:', error);\r\n        handleLogout(); // auto logout on failure\r\n      }\r\n    };\r\n\r\n    // Modified to fetch from ProfileController's history endpoint\r\n    const fetchPickups = async () => {\r\n      try {\r\n        // Updated endpoint to hit ProfileController's getPickupHistory\r\n        const response = await fetch(`http://localhost:8082/api/pickups/${userId}`); // This URL correctly targets ProfileController\r\n        if (response.status === 401 || response.status === 403) {\r\n          handleLogout();\r\n          return;\r\n        }\r\n        const data = await response.json();\r\n        console.log(\"Fetched Pickups Data:\", data); // Debugging: Check the structure of data\r\n        setPickups(Array.isArray(data) ? data : []);\r\n      } catch (error) {\r\n        console.error('Error fetching pickups:', error);\r\n        setPickups([]);\r\n      }\r\n    };\r\n\r\n    fetchProfile();\r\n    fetchPickups();\r\n  }, [userId, navigate]); // Added navigate to dependency array for useEffect safety\r\n\r\n  const handleChange = (e) => {\r\n    setUser({ ...user, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleUpdate = async () => {\r\n    try {\r\n      const updateData = { ...user };\r\n      const response = await fetch(`http://localhost:8082/api/user/update`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(updateData),\r\n      });\r\n\r\n      if (response.ok) {\r\n        alert('Profile updated successfully!');\r\n        setView('dashboard');\r\n      } else {\r\n        alert('Failed to update profile');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating profile:', error);\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('isLoggedIn');\r\n    localStorage.removeItem('userId');\r\n    localStorage.removeItem('userRole'); // Clear userRole on logout\r\n    window.dispatchEvent(new Event('loginStatusChanged'));\r\n    navigate('/login');\r\n  };\r\n\r\n  const wasteItems = [\r\n    { name: 'Fridge', price: '‚Çπ1,500', image: 'https://images.jdmagicbox.com/quickquotes/images_main/refrigerator-scrap-2219509427-iw6dq6oa.jpg' },\r\n    { name: 'TV', price: '‚Çπ800', image: 'https://i.pinimg.com/736x/9d/c0/7e/9dc07e2422dd353ca0547d877500635b.jpg' },\r\n    { name: 'Cooler', price: '‚Çπ500', image: 'https://5.imimg.com/data5/SELLER/Default/2022/2/KV/DD/HM/146664232/cooler-waste-scrap-500x500.png' },\r\n    { name: 'Washing Machine', price: '‚Çπ1,200', image: 'https://as1.ftcdn.net/jpg/02/80/56/26/1000_F_280562639_qYris0M1bcJHBSjTmrtt1ueHLaDCw3Bd.jpg' },\r\n    { name: 'Microwave', price: '‚Çπ700', image: 'https://c8.alamy.com/comp/2KYKPA1/old-broken-small-hot-plate-oven-and-other-old-e-waste-appliances-pilled-up-in-the-background-2KYKPA1.jpg' }\r\n  ];\r\n\r\n  // Helper function to get image URL for displayed history\r\n  const getImageUrl = (imagePath) => {\r\n    if (imagePath) {\r\n        // Assuming your backend serves static files from 'uploads/'\r\n        // You might need to configure Spring Boot to serve static content from 'uploads' directory\r\n        // For local development, if 'uploads' is in the root of your backend, it might be accessible\r\n        // at http://localhost:8082/uploads/<filename.ext>\r\n        return `http://localhost:8082/${imagePath}`;\r\n    }\r\n    return 'https://via.placeholder.com/50'; // Default placeholder image\r\n  };\r\n\r\n\r\n  return (\r\n    <div className=\"flex bg-gray-50 min-h-screen\">\r\n      {/* Sidebar */}\r\n      <aside className=\"w-64 bg-green-800 text-white min-h-screen p-5\">\r\n        <h1 className=\"text-xl font-bold mb-8\">‚ôªÔ∏è E-Waste Manager</h1>\r\n        <ul className=\"space-y-4 text-white\">\r\n          <li className={`cursor-pointer flex items-center gap-2 ${view === 'dashboard' && 'font-bold'}`} onClick={() => setView('dashboard')}>üß≠ Dashboard</li>\r\n          <li className={`cursor-pointer flex items-center gap-2 ${view === 'edit' && 'font-bold'}`} onClick={() => setView('edit')}>üõ†Ô∏è Edit Profile</li>\r\n          <li className={`cursor-pointer flex items-center gap-2 ${view === 'pickup' && 'font-bold'}`} onClick={() => setView('pickup')}>üìú Pickup History</li>\r\n          <li className=\"cursor-pointer flex items-center gap-2 font-bold text-yellow-300\" onClick={() => navigate('/pickup')}>üì¶ Schedule Pickup</li>\r\n        </ul>\r\n        <button onClick={handleLogout} className=\"mt-10 bg-white text-green-800 px-4 py-2 rounded hover:bg-green-100 w-full\">üîí Logout</button>\r\n      </aside>\r\n\r\n      {/* Main Content */}\r\n      <main className=\"flex-1 p-8\">\r\n        {view === 'dashboard' && (\r\n          <>\r\n            <div className=\"bg-white rounded-lg shadow-md p-6 text-center max-w-xl mx-auto mb-8\">\r\n              <img src=\"https://i.pravatar.cc/150?img=3\" alt=\"Profile\" className=\"w-24 h-24 rounded-full mx-auto mb-4\" />\r\n              <h3 className=\"text-xl font-bold\">{user.fullname}</h3>\r\n              <p className=\"text-gray-500\">{user.role}</p>\r\n              <p className=\"text-gray-600\">{user.location}</p>\r\n            </div>\r\n            <section>\r\n              <h2 className=\"text-lg font-semibold mb-4\">Smart Insights</h2>\r\n              <ul className=\"mb-4 list-disc list-inside text-gray-700\">\r\n                {/* Note: Summing weight from the dynamically created tables would be more complex as it's not directly in the 'pickups' state from the PickupController. \r\n                    If you want total weight, you might need a dedicated backend endpoint for that calculation from history tables. */}\r\n                <li>You‚Äôve scheduled <strong>{pickups.length}</strong> E-Waste pickups.</li> \r\n                <li>Suggested next pickup: <strong>Coming soon</strong></li>\r\n              </ul>\r\n              <h3 className=\"font-semibold mb-2\">Estimated Prices</h3>\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4\">\r\n                {wasteItems.map((item, idx) => (\r\n                  <div key={idx} className=\"bg-white p-4 rounded shadow text-center\">\r\n                    <img src={item.image} alt={item.name} className=\"h-40 w-full object-cover rounded mb-2\" />\r\n                    <p className=\"font-semibold\">{item.name}</p>\r\n                    <p className=\"text-green-700\">{item.price}</p>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </section>\r\n          </>\r\n        )}\r\n\r\n        {view === 'edit' && (\r\n          <div className=\"bg-white p-6 rounded-lg shadow-md max-w-xl mx-auto\">\r\n            <h2 className=\"text-2xl font-bold text-green-800 mb-4\">Edit Profile</h2>\r\n            <div className=\"space-y-4\">\r\n              <input name=\"fullname\" value={user.fullname} onChange={handleChange} className=\"w-full p-3 border rounded\" placeholder=\"Full Name\" />\r\n              <input name=\"location\" value={user.location} onChange={handleChange} className=\"w-full p-3 border rounded\" placeholder=\"Location\" />\r\n              <input name=\"password\" value={user.password} onChange={handleChange} type=\"password\" className=\"w-full p-3 border rounded\" placeholder=\"New Password\" />\r\n              <input name=\"email\" value={user.email} disabled className=\"w-full p-3 border rounded bg-gray-100 cursor-not-allowed\" placeholder=\"Email\" />\r\n              <input name=\"role\" value={user.role} disabled className=\"w-full p-3 border rounded bg-gray-100 cursor-not-allowed\" placeholder=\"Role\" />\r\n              <button onClick={handleUpdate} className=\"bg-green-700 text-white px-4 py-2 rounded hover:bg-green-800\">Save</button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n\r\n        {view === 'pickup' && (\r\n          <section>\r\n            <h2 className=\"text-xl font-semibold text-green-800 mb-4\">Pickup History</h2>\r\n            {pickups.length > 0 ? (\r\n              <div className=\"overflow-x-auto\"> {/* Add overflow-x-auto for responsiveness */}\r\n                <table className=\"min-w-full table-auto border-collapse border border-gray-200\">\r\n                  <thead className=\"bg-green-100\">\r\n                    <tr>\r\n                      <th className=\"p-3 border text-left text-sm font-semibold text-gray-700\">Date</th>\r\n                      <th className=\"p-3 border text-left text-sm font-semibold text-gray-700\">Time</th>\r\n                      <th className=\"p-3 border text-left text-sm font-semibold text-gray-700\">Waste Type</th>\r\n                      <th className=\"p-3 border text-left text-sm font-semibold text-gray-700\">Status</th>\r\n                      <th className=\"p-3 border text-left text-sm font-semibold text-gray-700\">Address</th>\r\n                      <th className=\"p-3 border text-left text-sm font-semibold text-gray-700\">City</th>\r\n                      <th className=\"p-3 border text-left text-sm font-semibold text-gray-700\">Pincode</th>\r\n                      <th className=\"p-3 border text-left text-sm font-semibold text-gray-700\">Image</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {pickups.map((pickup, i) => (\r\n                      <tr key={i} className=\"hover:bg-gray-50\">\r\n                        <td className=\"p-3 border text-sm text-gray-800\">{pickup.date || 'N/A'}</td>\r\n                        <td className=\"p-3 border text-sm text-gray-800\">{pickup.time || 'N/A'}</td>\r\n                        <td className=\"p-3 border text-sm text-gray-800\">{pickup.waste_type || 'N/A'}</td> {/* Note: column name is waste_type from DB */}\r\n                        <td className=\"p-3 border text-sm text-gray-800\">{pickup.status || 'N/A'}</td>\r\n                        <td className=\"p-3 border text-sm text-gray-800\">{pickup.address || 'N/A'}</td>\r\n                        <td className=\"p-3 border text-sm text-gray-800\">{pickup.city || 'N/A'}</td>\r\n                        <td className=\"p-3 border text-sm text-gray-800\">{pickup.pincode || 'N/A'}</td>\r\n                        <td className=\"p-3 border text-sm text-gray-800\">\r\n                          {pickup.image_path ? ( // Note: column name is image_path from DB\r\n                            <img\r\n                              src={getImageUrl(pickup.image_path)}\r\n                              alt=\"Pickup Item\"\r\n                              className=\"w-16 h-16 object-cover rounded\"\r\n                            />\r\n                          ) : (\r\n                            <span>No Image</span>\r\n                          )}\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            ) : (\r\n              <p className=\"text-gray-500\">No pickup records found. Schedule your first pickup!</p>\r\n            )}\r\n          </section>\r\n        )}\r\n\r\n        {/* Terms & Conditions */}\r\n        <div className=\"bg-gray-100 p-4 rounded-md text-sm text-gray-700 mt-8\">\r\n          <h4 className=\"font-bold mb-2\">Terms & Conditions:</h4>\r\n          <ul className=\"list-disc list-inside space-y-1\">\r\n            <li>Prices shown are approximate and may vary based on item condition and location.</li>\r\n            <li>Items must be in a recyclable state (no excessive damage or contamination).</li>\r\n            <li>Pickups are subject to availability and area coverage.</li>\r\n            <li>We reserve the right to reject items that don‚Äôt meet minimum requirements.</li>\r\n          </ul>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}